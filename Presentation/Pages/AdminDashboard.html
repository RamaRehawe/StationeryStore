<!DOCTYPE html>
<html lang="ar" dir="rtl" >

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>لوحة التحكم للمسؤول</title>
    <link rel="stylesheet" href="~/CSS/Styles.css">
    <link rel="icon" href="~/Images/ICO.png" type="image/png">
    <script src="~/Javascript/Functions.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body>
  <a href="~/Pages/Home.html">
        <img class="logo" src="~/Images/logo.png" alt="logo">
    </a>
		 <div class="logout-icon">
        <a  onclick="logout()" id="logoutLink">
	    <img src="~/Images/log-out.png" alt="Logout">
            <span id="logout-text"> تسجيل الخروج</span>
        </a>
    </div>
    <main>
		<div id="sidebar">
	<a href="#section2" onclick="showSection('section2')">إضافة سائق</a>
    <a href="#section3" onclick="showSection('section3')">إضافة مدير المنتجات</a>
    <a href="#section4" onclick="showSection('section4')">عرض المستخدمين</a>
    <a href="#section5" onclick="showSection('section5')">عرض جميع الطلبات</a>
	<a href="#section6" onclick="showSection('section6')">عرض جميع المنتجات</a>
    <a href="#section7" onclick="showSection('section7')">تحديد تكلفة الشحن</a>
    <a href="#section8" onclick="showSection('section8')">الشكاوي و الاستفسارات</a>
	<a href="#section9" onclick="showSection('section9')">تحليل البيانات</a>
</div>

<div id="content">
<div id="section1" class="section active-section">
    <h2>أهلاً بك</h2>
    <p>نحن فخورون بأن نقدم لكم متجرنا الإلكتروني للقرطاسية، حيث يديره فريق من المحترفين بقيادة المدير الخبير.</p>
    <p>يعمل المدير جاهدًا لضمان توفير تشكيلة واسعة من المنتجات عالية الجودة، ويسعى دائمًا لتلبية احتياجات عملائنا الكرام. بفضل خبرته الواسعة في مجال القرطاسية، يقوم بالإشراف على تحديث المخزون بانتظام وضمان جاهزية المنتجات.</p>
    <p>نحن نفتخر بتوفير تجربة تسوق سلسة ومرضية، ونشجعكم دائمًا على التواصل مع المدير لأي استفسارات أو اقتراحات. نتمنى لكم تجربة تسوق ممتعة!</p>
	<img  class="first-img" src="~/Images/admin.jpg" alt="صورة تعبيرية عن عمل المدير في متجر الكتروني للقرطاسية">
</div>
    <div id="section2" class="section">
		<h1>إضافة السائق</h1>
<form >
    <label for="driverName">اسم السائق:</label>
    <input type="text" id="driverName" name="driverName" required>

    <label for="driverLicense">رقم رخصة القيادة:</label>
    <input type="text" id="driverLicense" name="driverLicense" required>

    <label for="driverPhone">رقم الهاتف:</label>
    <input type="tel" id="driverPhone" name="driverPhone" required>

    <label for="driverAddress">العنوان:</label>
    <input type="text" id="driverAddress" name="driverAddress" required>

    <button type="button" onclick="addDriver()">إضافة</button>
</form>
   
</div>


    <div id="section3" class="section"  >
 <h1>إضافة مدير المنتجات</h1>
    <form >
        <label for="managerName">الاسم الثلاثي:</label>
        <input type="text" id="managerName" name="managerName" required>

        <label for="managerEmail">البريد الإلكتروني :</label>
        <input type="email" id="managerEmail" name="managerEmail" required>

        <label for="managerPhone">رقم الهاتف :</label>
        <input type="tel" id="managerPhone" name="managerPhone" required>

        <label for="managerAddress">العنوان :</label>
        <input type="text" id="managerAddress" name="managerAddress" required>

        <button type="button" onclick="addManager()">إضافة</button>
    </form>
      </div>
    <div id="section4" class="section" >
<h1>قائمة المستخدمين</h1>

<!-- جدول لعرض بيانات المستخدمين -->
<table >
  <thead>
        <tr>
            <th>الرقم التسلسلي</th>
            <th>الاسم</th>
            <th>البريد الإلكتروني</th>
            <th>الهاتف</th>
            <th>العنوان</th> 
        </tr>
    </thead>
    <tbody id="usersTableBody">
        <!-- ستتم إضافة بيانات المستخدمين هنا باستخدام JavaScript -->
    </tbody>
</table>
    </div>
	 <div id="section5" class="section" >
 
<h1>قائمة الطلبات</h1>

<!-- جدول لعرض البيانات -->
<table >
    <thead>
        <tr>
            <th>رقم الطلب</th>
            <th>العنوان</th>
            <th>التفاصيل</th>
        </tr>
    </thead>
    <tbody id="requestsTableBody">
        <!-- ستتم إضافة البيانات هنا باستخدام JavaScript -->
    </tbody>
</table>

    </div>
	
     <div id="section6" class="section" >
      <h1>قائمة المنتجات</h1>

<!-- جدول لعرض بيانات المنتجات -->
<table>
    <thead>
        <tr>
            <th>الرقم التسلسلي</th>
            <th>اسم المنتج</th>
            <th>السعر</th>
            <th>الكمية المتاحة</th>
        </tr>
    </thead>
    <tbody id="productsTableBody">
        <!-- ستتم إضافة بيانات المنتجات هنا باستخدام JavaScript -->
    </tbody>
</table>

    </div>
		<div id="section7" class="section" >
        <h1>تحديد تكلفة الشحن</h1>
    <form>
        <label for="transportCost">تكلفة النقل:</label>
        <input type="text" id="transportCost" name="transportCost" required>

        <label for="insuranceCost">تكلفة التأمين:</label>
        <input type="text" id="insuranceCost" name="insuranceCost" required>

        <label for="packingCost">تكلفة التعبئة والتغليف:</label>
        <input type="text" id="packingCost" name="packingCost" required>

        <label for="taxesFees">تكاليف الضرائب والرسوم:</label>
        <input type="text" id="taxesFees" name="taxesFees" required>

        <label for="distance">المسافة (بالكيلومتر):</label>
        <input type="text" id="distance" name="distance" required>

        <button type="button" onclick="calculateShippingCost()">حساب تكلفة الشحن</button>

        <!-- عنصر لعرض نتيجة التكلفة -->
        <div id="shippingCost"></div>
    </form>
    </div>
		<div id="section8" class="section" >
      <h1>إدارة الشكاوي والاستفسارات</h1>

    <table >
    <thead>
            <tr>
                <th>اسم العميل</th>
                <th>نوع الشكوى أو الاستفسار</th>
                <th>تفاصيل الشكوى أو الاستفسار</th>
                <th>حالة الشكوى</th>
            </tr>
        </thead>
    <tbody id="complaintsTableBody">
        <!-- ستتم إضافة بيانات المستخدمين هنا باستخدام JavaScript -->
    </tbody>
</table>

    </div>
		<div id="section9" class="section" >
      
        <h1>تحليل البيانات</h1>
        <button onclick="analyzeSalesData()">تحليل المبيعات</button>
		  <br> <br>
			<div id="salesAnalysisResults"></div> 
			<br>
        <button onclick="analyzeCustomerBehavior()">تحليل سلوك العملاء</button>
		  <br> <br>
		  <div id="customerBehaviorAnalysis"></div>
    
    </div></div>
    </main>
<footer>
        <p dir="ltr">&copy; 2024 - جميع الحقوق محفوظة</p>
        |
      <a href="~/Pages/PrivacyPolicy.cshtml">سياسة الخصوصية</a>
      <a href="~/Pages/About.cshtml">من نحن</a> 
        |
        <div class="social-links">
            <strong> تواصل معنا:</strong>
            <a href="mailto:info@example.com">
      <img src="~/Images/email.png" alt="Email Icon">
            </a>
            <a href="link_to_facebook_page">
      <img src="~/Images/facebook-icon.png" alt="Facebook Icon">
            </a>
            <a href="tel:+123456789">
      <img src="~/Images/phone-call.png" alt="Phone Icon">
            </a>
        </div>
    </footer>
<script>
    // يمكنك استخدام JavaScript لتحديث حالة الطلبية وتنشيط الحدث المناسب
const events = document.querySelectorAll('.event');

// قم بتحديد الحدث الحالي (حسب حالة الشحنة)
const currentStatus = 'shipped'; // يمكنك تغيير هذه القيمة بحالة الشحنة الفعلية

events.forEach(event => {
    const status = event.getAttribute('data-status');

    // قم بتحديث الحالة النشطة
    if (status === currentStatus) {
        event.classList.add('active');
    } else {
        event.classList.remove('active');
    }
});
 function redirectToHomePage() {
    // استخدام window.location.href لتوجيه المتصفح إلى صفحة home.html
    window.location.href = 'home.html';
}
function showSection(sectionId) {
// إخفاء جميع الأقسام
var sections = document.querySelectorAll('.section');
sections.forEach(function(section) {
section.classList.remove('active-section');
});

// إظهار القسم المحدد
var selectedSection = document.getElementById(sectionId);
selectedSection.classList.add('active-section');

// إظهار زر الحفظ بشكل تلقائي في القسم المحدد
var saveIcon = selectedSection.querySelector('.save-icon');
if (saveIcon) {
saveIcon.style.display = 'inline';
}
}

function editSection(sectionId) {
console.log('تم تنفيذ editSection للقسم: ', sectionId);

// تمكين حقول التحرير
var section = document.getElementById(sectionId);
var inputs = section.querySelectorAll('input, select');
inputs.forEach(function(input) {
input.removeAttribute('disabled');
});

// إظهار زر الحفظ
var saveIcon = section.querySelector('.save-icon');
saveIcon.style.display = 'inline';
}

function deleteSection(sectionId) {
// يمكنك إضافة رمز يقوم بحذف القسم أو تنفيذ الإجراء الخاص بك هنا
alert('حذف القسم: ' + sectionId);
}

function saveChanges(sectionId) {
// حفظ التغييرات هنا (يمكنك إرسالها إلى الخادم أو تنفيذ الإجراء الخاص بك)
alert('تم حفظ التغييرات: ' + sectionId);

// تعطيل حقول التحرير
var section = document.getElementById(sectionId);
var inputs = section.querySelectorAll('input');
inputs.forEach(function(input) {
input.setAttribute('disabled', 'true');
});

// إخفاء زر الحفظ
var saveIcon = section.querySelector('.save-icon');
saveIcon.style.display = 'none';
}

function submitForm(event) {
    event.preventDefault();

    // يمكنك إضافة الكود اللازم هنا لمعالجة النموذج والرد على العميل
    // يمكن استخدام JavaScript أو تقديم طلب AJAX للتفاعل مع الخادم

    // في هذا المثال، سنقوم بعرض رسالة تأكيد ببساطة
    alert('تم استلام استفسارك، سنقوم بالرد في أقرب وقت ممكن. شكراً لتواصلك معنا!');
}
const productsData = [
    { id: 1, name: "منتج 1", price: 5000 , quantity: 100 },
    { id: 2, name: "منتج 2", price: 2000 , quantity: 50 },
    // ... يمكنك إضافة المزيد من المنتجات هنا
];
		const productsTableBody = document.getElementById("productsTableBody");

productsData.forEach(product => {
    const row = document.createElement("tr");
    row.innerHTML = `
        <td>${product.id}</td>
        <td>${product.name}</td>
        <td>${product.price}</td>
        <td>${product.quantity}</td>
    `;
    productsTableBody.appendChild(row);
});
		// مثال على بيانات المستخدمين (يمكن أن تكون جزءًا من قاعدة البيانات)
const usersData = [
    { id: 1, name: "أحمد", email: "ahmed@example.com", phone: "123-456-789", address: "العنوان الأول" },
    { id: 2, name: "فاطمة", email: "fatima@example.com", phone: "987-654-321", address: "العنوان الثاني" },
    // ... يمكنك إضافة المزيد من المستخدمين هنا
];

// استخدام JavaScript لإنشاء صفوف الجدول باستناء البيانات
const tableBody = document.getElementById("usersTableBody");

usersData.forEach(user => {
    const row = document.createElement("tr");
    row.innerHTML = `
        <td>${user.id}</td>
        <td>${user.name}</td>
        <td>${user.email}</td>
        <td>${user.phone}</td>
        <td>${user.address}</td> <!-- إضافة العنوان -->
    `;
    tableBody.appendChild(row);
});
		
    const requestsData = [
        { id: 1, title: "طلب 1", details: "تفاصيل طلب 1" },
        { id: 2, title: "طلب 2", details: "تفاصيل طلب 2" },
        // ... يمكنك إضافة المزيد من الطلبات هنا
    ];

    const tableBody1 = document.getElementById("requestsTableBody");

    requestsData.forEach(request => {
        const row = document.createElement("tr");
        row.innerHTML = `
            <td>${request.id}</td>
            <td>${request.title}</td>
            <td>${request.details}</td>
        `;
        tableBody1.appendChild(row);
    });

    function calculateShippingCost() {
        var transportCost = parseFloat(document.getElementById('transportCost').value);
        var insuranceCost = parseFloat(document.getElementById('insuranceCost').value);
        var packingCost = parseFloat(document.getElementById('packingCost').value);
        var taxesFees = parseFloat(document.getElementById('taxesFees').value);
        var distance = parseFloat(document.getElementById('distance').value);

        var totalCost = transportCost + insuranceCost + packingCost + taxesFees + (distance * 0.1);
        document.getElementById('shippingCost').innerHTML = "تكلفة الشحن هي: " + totalCost.toFixed(2) + " ل.س";
    }

    function addManager() {
        var managerName = document.getElementById('managerName').value;
        var managerEmail = document.getElementById('managerEmail').value;
        var managerPhone = document.getElementById('managerPhone').value;
        var managerAddress = document.getElementById('managerAddress').value;

        var managerData = {
            name: managerName,
            email: managerEmail,
            phone: managerPhone,
            address: managerAddress
        };

        console.log('تمت إضافة مدير المنتجات:', managerData);
        alert('تمت إضافة مدير المنتجات:\n\n' +
            'الاسم: ' + managerData.name + '\n' +
            'البريد الإلكتروني: ' + managerData.email + '\n' +
            'رقم الهاتف: ' + managerData.phone + '\n' +
            'العنوان: ' + managerData.address);
    }

    function addDriver() {
        var driverName = document.getElementById('driverName').value;
        var driverLicense = document.getElementById('driverLicense').value;
        var driverPhone = document.getElementById('driverPhone').value;
        var driverAddress = document.getElementById('driverAddress').value;

        var driverData = {
            name: driverName,
            license: driverLicense,
            phone: driverPhone,
            address: driverAddress
        };

        console.log('تمت إضافة السائق:', driverData);
        alert('تمت إضافة السائق:\n\n' +
            'الاسم: ' + driverData.name + '\n' +
            'رخصة القيادة: ' + driverData.license + '\n' +
            'رقم الهاتف: ' + driverData.phone + '\n' +
            'العنوان: ' + driverData.address);
    }
const complaints = [
    { customerName: "اسم العميل", complaintType: "نوع الشكوى", complaintDetails: "تفاصيل الشكوى" },
    { customerName: "اسم العميل الآخر", complaintType: "نوع آخر", complaintDetails: "تفاصيل الشكوى الأخرى" },
    // قم بإضافة المزيد من الشكاوى حسب الحاجة
];
    function fillComplaintsTable() {
        var complaintsTableBody = document.getElementById("complaintsTableBody");
        complaintsTableBody.innerHTML = "";

        // Assuming complaints is defined somewhere
        for (var i = 0; i < complaints.length; i++) {
            var row = complaintsTableBody.insertRow();
            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);
            var cell3 = row.insertCell(2);
            var cell4 = row.insertCell(3);

            cell1.innerHTML = complaints[i].customerName;
            cell2.innerHTML = complaints[i].complaintType;
            cell3.innerHTML = complaints[i].complaintDetails;
            cell4.innerHTML = "<select id='statusSelect" + i + "'><option value='pending'>قيد المراجعة</option><option value='resolved'>تم التعامل معها</option></select>";
        }
    }

    function updateComplaintStatus(index) {
        var statusSelect = document.getElementById("statusSelect" + index);
        var selectedStatus = statusSelect.value;

        complaints[index].status = selectedStatus;
        fillComplaintsTable();
    }

    


    const salesData = [
        { month: "يناير", amount: 50000 },
        { month: "فبراير", amount: 75000 },
        { month: "مارس", amount: 100000 },
        // ... يمكنك إضافة المزيد من بيانات المبيعات
    ];

    function analyzeSalesData() {
        var totalSales = salesData.reduce(function (sum, sale) {
            return sum + sale.amount;
        }, 0);

        var salesRatioData = salesData.map(function (sale) {
            var ratio = (sale.amount / totalSales) * 100;
            return { month: sale.month, ratio: ratio.toFixed(2) + "%" };
        });

        var analysisReport = "نتائج التحليل:\n\n";
        salesRatioData.forEach(function (sale) {
            analysisReport += sale.month + ": " + sale.ratio + "\n";
        });

        document.getElementById("salesAnalysisResults").innerText = analysisReport;
    }

    const customerReviews = [
        { customerId: 1, rating: 4, feedback: "منتج رائع" },
        { customerId: 2, rating: 5, feedback: "خدمة سريعة وفعالة" },
        { customerId: 3, rating: 3, feedback: "يمكن تحسين الجودة" },
        // ... يمكنك إضافة المزيد من التقييمات
    ];

    function analyzeCustomerBehavior() {
        var totalCustomers = customerReviews.length;
        var averageRating = calculateAverageRating(customerReviews);

        var analysisReport = "نتائج التحليل:\n\n";
        analysisReport += "إجمالي عدد العملاء: " + totalCustomers + "\n";
        analysisReport += "متوسط التقييم: " + averageRating.toFixed(2) + "\n";

        document.getElementById("customerBehaviorAnalysis").innerText = analysisReport;
    }

    function calculateAverageRating(reviews) {
        var totalRating = reviews.reduce(function (sum, review) {
            return sum + review.rating;
        }, 0);

        return totalRating / reviews.length;
    }

    window.onload = function () {
        fillComplaintsTable();
        showSection('section1');
    };
  </script> 

</body>

</html>
