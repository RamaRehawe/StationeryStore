<!DOCTYPE html>
<html lang="ar" dir="rtl" >

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุฏูุฑ ุงูููุชุฌุงุช</title>
    <link rel="stylesheet" href="~/CSS/Styles.css">
    <link rel="stylesheet" href="~/CSS/Styles1.css">
    <link rel="icon" href="~/Images/ICO.png" type="image/png">
    <script src="~/Javascript/Functions.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body>
    <a href="~/Pages/Home.html">
        <img class="logo" src="~/Images/logo.png" alt="logo">
    </a>
	 <div class="logout-icon">
        <a  onclick="logout()" id="logoutLink">
	    <img src="~/Images/log-out.png" alt="Logout">
            <span id="logout-text"> ุชุณุฌูู ุงูุฎุฑูุฌ</span>
        </a>
    </div>
    <main>
		<div id="sidebar">
    <a href="#section2" onclick="showSection('section2')"> ุฅุถุงูุฉ ูุฆุฉ ุฌุฏูุฏุฉ</a>
    <a href="#section3" onclick="showSection('section3')">ุฅุถุงูุฉ ููุชุฌ  </a>
    <a href="#section6" onclick="showSection('section6')">ุฅุถุงูุฉ ุชูุงุตูู ุงูููุชุฌ</a>
	 <a href="#section4" onclick="showSection('section4')">ุชุนุฏูู ููุชุฌ</a>
    <a href="#section5" onclick="showSection('section5')">ุญุฐู ููุชุฌ</a>
    <a href="#section7" onclick="showSection('section7')">ุนุฑุถ ุฌููุน ุงูููุชุฌุงุช</a>
	    <a href="#section8" onclick="showSection('section8')">ุฅุฏุงุฑุฉ ุงููุฎุฒูู</a>

</div>

<div id="content">
<div id="section1" class="section active-section">
        <h2> ูุฏูุฑ ุงูููุชุฌุงุช</h2>
        <h3> ูููู ูุฏูุฑ ุงูููุชุฌุงุช ุจุงููุณุคูููุฉ ุนู ุฅุฏุงุฑุฉ ุชุดูููุฉ ุงูููุชุฌุงุช ุจุดูู ุดุงููุ ุญูุซ ูุดูู ุฐูู ุฅุถุงูุฉ ููุชุฌุงุช ุฌุฏูุฏุฉ ูุญุฐู ุงูููุชุฌุงุช ุบูุฑ ุงูููุงุฆูุฉ. ูุฏูุฑ ุงููุฏูุฑ ุฃูุถูุง ุนูููุงุช ุงุณุชุนุฑุงุถ ุงูููุชุฌุงุชุ ุณูุงุก ุฏุงุฎูููุง ูุชูููู ุงูุฃุฏุงุก ุฃู ุฎุงุฑุฌููุง ูุชูุจูุฉ ุงุญุชูุงุฌุงุช ุงูุนููุงุก.

ุนูุฏ ุฅุถุงูุฉ ููุชุฌุงุช ุฌุฏูุฏุฉุ ูููู ุจุชุนุฑูู ุฎุตุงุฆุตูุงุ ูุซู ุงูุงุณูุ ุงููุตูุ ุงูุตูุฑุฉุ ุงููููุฉ ุงููุชุงุญุฉุ ูุงูุณุนุฑ. ููุง ูุนูู ุนูู ุชุญุฏูุซ ุชูุงุตูู ุงูููุชุฌุงุช ุงูุญุงููุฉ ูุชุนุฏูููุง ุจูุงุกู ุนูู ุงุญุชูุงุฌุงุช ุงูุณูู ูุฑุฏูุฏ ุงููุนู.

ุจุงูุฅุถุงูุฉ ุฅูู ุฐููุ ูููู ููุฏูุฑ ุงูููุชุฌุงุช ุญุฐู ุงูููุชุฌุงุช ุงูุชู ุฃุตุจุญุช ุบูุฑ ููุงุฆูุฉ ุฃู ุบูุฑ ูุทุงุจูุฉ ูุงุญุชูุงุฌุงุช ุงูุณูู. ุชููู ูููุชู ุฃูุถูุง ูู ุชุญููู ุฃุฏุงุก ุงูููุชุฌุงุช ุจุงุณุชูุฑุงุฑ ูุงุชุฎุงุฐ ุงููุฑุงุฑุงุช ุงูุงุณุชุฑุงุชูุฌูุฉ ูุถูุงู ูุฌุงุญ ุฎุท ุงูููุชุฌุงุช ูุชุญููู ุงูุฃูุฏุงู ุงููุคุณุณูุฉ.
</h3>	
<img src="~/Images/itemmanger.png" alt="Description of the image" style="width: 70%;">
    </div>
    <div id="section2" class="section">
    <form>
        <div class="section-header">
            <h2>ุฃุถู ูุฆุฉ ุฌุฏูุฏุฉ</h2>
            <div class="section-actions">
                <span class="edit-icon" onclick="editSection('section2')">โ๏ธ</span>
                <span class="delete-icon" onclick="deleteSection('section2')">๐๏ธ</span>
                <span class="save-icon" onclick="saveChanges('section2')" style="display: none;">๐พ</span>
                <span class="add-category-icon" onclick="toggleAddCategoryFields()" style="display: none;">โ</span> <!-- ุฃููููุฉ ูุฅุธูุงุฑ/ุฅุฎูุงุก ุญููู ุงูุฅุถุงูุฉ -->
            </div>
        </div>
        <p>ุงูุชูุงุตูู ...</p>
        <label for="itemName">ุงุณู ุงููุฆุฉ:</label>
        <input type="text" id="itemName" required><br>
        <label for="itemDescription">ุงููุตู:</label>
        <input type="text" id="itemDescription" required><br> 
        <label for="itemParent">ุงููุณู ุงูุชุงุจุน ููุง:</label>
		<br>
        <select id="itemParent" >
            <option value="category1">ูุฆุฉ 1</option>
            <option value="category2">ูุฆุฉ 2</option>
            <option value="category3">ูุฆุฉ 3</option>
        </select>
		<br><div id="imageInputsContainer1">
            <label for="productImage1"> ุงูุตูุฑุฉ ุฃู ุงูุดุนุงุฑ:</label>
            <input type="file" class="image-input" name="productImage1" accept="image/*" required>
        </div>
    </form>
</div>

    <div id="section3" class="section"  >
          
        <form>
			 <div class="section-header">
            <h2>ุฃุถู ููุชุฌ ุฌุฏูุฏ</h2>
            <div class="section-actions">
                <span class="edit-icon" onclick="editSection('section3')">โ๏ธ</span>
                <span class="delete-icon" onclick="deleteSection('section3')">๐๏ธ</span>
                <span class="save-icon" onclick="saveChanges('section3')" style="display: none;">๐พ</span>
            </div>
        </div>
        <p>ุชูุงุตูู ุงูููุชุฌ...</p>
                <label for="itemName">ุงุณู ุงูููุชุฌ:</label>
                <input type="text" id="itemName" ><br>
                <label for="itemDescription">ุงููุตู:</label>
                <input type="text" id="itemDescription" ><br>
 <label for="itemParent">ุงููุฆุฉ ุงูุชุงุจุน ููุง:</label>
        <br>
        <select id="itemParent" >
            <option value="category1">ูุฆุฉ 1</option>
            <option value="category2">ูุฆุฉ 2</option>
            <option value="category3">ูุฆุฉ 3</option>
            <!-- ููููู ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงููุฆุงุช ุญุณุจ ุงูุญุงุฌุฉ -->
        </select>
			<br><br>
                <button onclick="addNewItem()">ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ</button> 
        </form>
    </div>
   <div id="section4" class="section" >
          <h2>ูุญุชูู ุงูููุชุฌุงุช</h2>
    <p>ุชุณุชุทูุน ุงูุชุนุฏูู ุนูู ุงูููุชุฌุงุช</p>
    <input type="text" id="productSearch" placeholder="ุงุจุญุซ ุนู ุงูููุชุฌ">
    <ul id="itemList">
        <!-- Product items will be dynamically added here using JavaScript -->
    </ul>
    </div>
    <div id="section5" class="section" >
        <h2>ูุญุชูู ุงูููุชุฌุงุช  </h2>
        <p>ุชุณุชุทูุน ุชุญุฏูุฏ ุงูููุชุฌุงุช ุงููุฑุงุฏ ุญุฐููุง</p>
		<ul id="itemList"></ul>

<button onclick="deleteSelectedItem()">ุญุฐู ุงูููุชุฌ ุงููุญุฏุฏ</button>
    </div>
	<div id="section6" class="section">
        <form>
            <fieldset>
                <legend>ุชูุงุตูู ุงูููุชุฌ</legend>
    
                <label for="mainCategory">ุงููุฆุฉ ุงูุฃุณุงุณูุฉ:</label>
                <select id="mainCategory" name="mainCategory">
                    <option value="pens">ุฃููุงู</option>
                    <option value="notebooks">ุฏูุงุชุฑ</option>
                    <!-- ุฃุถู ุงููุฒูุฏ ุญุณุจ ุงูุญุงุฌุฉ -->
                </select>
    
                <br><br>
    
                <label for="subCategory">ุงููุฆุฉ ุงููุฑุนูุฉ:</label>
                <select id="subCategory" name="subCategory">
                    <!-- ุงููุฃ ูุฐุง ุงููุงุฆู ุงูููุณุฏู ุจุงุฎุชูุงุฑุงุช ุงููุฆุฉ ุงููุฑุนูุฉ ุญุณุจ ุงููุฆุฉ ุงูุฃุณุงุณูุฉ ุงููุฎุชุงุฑุฉ -->
                    <option value="1"> ุฃููุงู ุฑุตุงุต</option>
                    <option value="2">ุฏูุงุชุฑ ุฑุณู</option>
                </select>
                <br><br>
                <label for="productId">ุงุฎุชุฑ ุงูููุชุฌ:</label>
                <select id="productId" name="productId">
                    <!-- ูู ุจููุก ูุฐุง ุงููุงุฆู ุงูููุณุฏู ุจุฎูุงุฑุงุช ุงูููุชุฌุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช -->
                    <option value="1">ููุชุฌ 1</option>
                    <option value="2">ููุชุฌ 2</option>
                </select>
                <br><br>
    
                <label for="itemQuantity">ุงููููุฉ:</label>
                <input type="number" id="itemQuantity" min="1" value="1" required>
    
                <br>
    
                <label for="itemPrice">ุงูุณุนุฑ:</label>
                <input type="number" id="itemPrice" min="1000"  value="1000" step="500" required>
    
                <br>
            </fieldset>
            <br>
            <fieldset>
                <legend>ุงูุฎุตุงุฆุต</legend>
    
                <label for="existing_property">ุงุณุชุฎุฏุงู ุฎุตุงุฆุต ูุนุฑูุฉ ูุณุจูุงู:</label>
                <select id="existing_property" name="existing_property" onchange="updatePropertyValues()">
                    <option value="color">ููู</option>
                    <option value="size">ุญุฌู</option>
                </select><br><br>
                <label for="property_value_dropdown">ุงุฎุชุฑ ูููุฉ (ุฅุฐุง ูุงูุช ูุญุฏุฏุฉ ูุณุจููุง):</label>
                <select id="property_value_dropdown" name="property_value_dropdown">
                    <!-- ุณุชุชู ุฅุถุงูุฉ ุงูุฎูุงุฑุงุช ููุง ุจูุงุกู ุนูู ุงูุฎุตุงุฆุต ุงููุญุฏุฏุฉ -->
                </select><br><br>
                <label for="property_value">ูููุฉ ุงูุฎุตุงุฆุต:</label>
                <input type="text" id="property_value" name="property_value" placeholder=""><br>
    
                <label for="propertyName">ุฃุถู ุฎุตุงุฆุต ุฌุฏูุฏุฉ:</label>
                <input type="text" id="propertyName" name="propertyName" >
    
                <br>
    
                <label for="propertyValue">ูููุฉ ุงูุฎุตุงุฆุต:</label>
                <input type="text" id="propertyValue" name="propertyValue" >
    
                <br>
    
    
            </fieldset>
            <br>
            <fieldset>
                <legend>ุงูุตูุฑุฉ ุฃู ุงูุดุนุงุฑ</legend>
    
                <div id="imageInputsContainer">
                    <label for="productImage1">ุตูุฑ ุงูููุชุฌ :</label>
                    <input type="file" class="image-input" name="productImages[]" accept="image/*" required>
                </div>
    
                <span id="addImage" style="cursor: pointer; color: blue; left: 10px;">+</span>
    
            </fieldset>
            <br>
            <button type="submit" id="submitButton" onclick="handleSubmit()">ุญูุธ</button>
        </form>
        
    </div>

	<div id="section7" class="section" >
        <h2>ูุญุชูู ุงูููุชุฌุงุช </h2>
		<p>ุชุณุชุทูุน ุฑุคูุฉ ุงูููุชุฌุงุช ู ุชูุงุตูููุง</p>
		<ul id="itemList"></ul>

            <button onclick="viewAllItems()">ุนุฑุถ ุฌููุน ุงูููุชุฌุงุช</button>
        <!-- ููููู ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงูุนูุงุตุฑ ููุฐุง ุงููุณู -->
    </div>
		<div id="section8" class="section">
    <h1>ุฅุฏุงุฑุฉ ุงููุฎุฒูู</h1>

    <div>
        <label for="categorySelect"> ุงุฎุชุฑ ุงููุฆุฉ ุงูุงุณุงุณูุฉ:</label>
        <select id="categorySelect" onchange="loadSubcategories()">
            <option value="0">ุงุฎุชุฑ ูุฆุฉ</option>
            <option value="1">ุฃููุงู</option>
        </select>

        <label for="subcategorySelect"> ุงุฎุชุฑ ุงููุฆุฉ ุงูุชุงุจุนุฉ ููุง:</label>
        <select id="subcategorySelect" onchange="loadProducts()">
            <option value="0">ุงุฎุชุฑ ูุฆุฉ </option>
			<option value="1">ุฃููุงู ุฌูู</option>
        </select>

        <label for="productSelect">ุงุฎุชุฑ ุงูููุชุฌ:</label>
        <select id="productSelect" onchange="loadInventory()">
            <!-- ุณูุชู ุชุญููู ุงูููุชุฌุงุช ููุง -->
            <option value="0">ุงุฎุชุฑ ููุชุฌูุง</option>
			<option value="1">ููู ุฌูู ููุฏู</option>
        </select>

        <label for="propertySelect">ุงุฎุชุฑ ุงูุฎุงุตูุฉ:</label>
        <select id="propertySelect">
			<option value="0">ุงุฎุชุฑ ุฎุงุตูุฉ</option>
            <option value="1">ุงูููู</option>
           
        </select>

        <label for="colorSelect">ุงุฎุชุฑ ุงููููุฉ:</label>
        <select id="colorSelect">
			<option value="0">ุงุฎุชุฑ ุงููููุฉ</option>
            <option value="blue">ุฃุฒุฑู</option>
           
        </select>

        <p>ูุณุชูู ุงููุฎุฒูู: <span id="inventoryLevel">-</span></p>
        <p>ุงููููุฉ ุงููุทููุจุฉ: <input type="number" id="quantityToOrder" min="1" value="1"></p>
        <button onclick="replenishInventory()">ุฅุนุงุฏุฉ ุชุนุจุฆุฉ ุงููุฎุฒูู</button>
    </div>
</div>
</div>
    </main>
    
  <footer>
        <p dir="ltr">&copy; 2024 - ุฌููุน ุงูุญููู ูุญููุธุฉ</p>
        |
      <a href="~/Pages/PrivacyPolicy.cshtml">ุณูุงุณุฉ ุงูุฎุตูุตูุฉ</a>
      <a href="~/Pages/About.cshtml">ูู ูุญู</a> 
        |
        <div class="social-links">
            <strong> ุชูุงุตู ูุนูุง:</strong>
            <a href="mailto:info@example.com">
      <img src="~/Images/email.png" alt="Email Icon">
            </a>
            <a href="link_to_facebook_page">
      <img src="~/Images/facebook-icon.png" alt="Facebook Icon">
            </a>
            <a href="tel:+123456789">
      <img src="~/Images/phone-call.png" alt="Phone Icon">
            </a>
        </div>
    </footer>
    <script>
		  function loadInventory() {
            var productId = document.getElementById('productSelect').value;

            // ูู ุจุชูููุฐ ุทูุจ AJAX ูุฌูุจ ูุณุชูู ุงููุฎุฒูู ูู ุงูุฎุงุฏู
            // ููููู ุงุณุชุฎุฏุงู XMLHttpRequest ุฃู fetch API

            // ุงูุขู ููุชุฑุถ ุฃููุง ูุฏ ุฌูุจูุง ุงููุณุชูู ูู ุงูุฎุงุฏู ููุนุฑุถู ููุง
            var inventoryLevel = 50; // ุงูุชุฑุงุถู

            document.getElementById('inventoryLevel').innerText = inventoryLevel;
        }

        function replenishInventory() {
            var quantityToOrder = parseInt(document.getElementById('quantityToOrder').value, 10);

            // ููููู ุฅุถุงูุฉ ุงููุฒูุฏ ูู ุงูุดุฑูุท ููุง ุญุณุจ ุงูุญุงุฌุฉ
            if (!isNaN(quantityToOrder) && quantityToOrder > 0) {
                var currentInventory = parseInt(document.getElementById('inventoryLevel').innerText, 10);
                var newInventoryLevel = currentInventory + quantityToOrder;
                document.getElementById('inventoryLevel').innerText = newInventoryLevel;

                alert('ุชู ุฅุนุงุฏุฉ ุชุนุจุฆุฉ ุงููุฎุฒูู ุจูุฌุงุญ!');
            } else {
                alert('ุงูุฑุฌุงุก ุฅุฏุฎุงู ูููุฉ ุตุญูุญุฉ ูุฅุนุงุฏุฉ ุชุนุจุฆุฉ ุงููุฎุฒูู.');
            }
        }
		 function updatePropertyValues() {
            const selectedProperty = document.getElementById('existing_property').value;
            const propertyValueInput = document.getElementById('property_value');
            const propertyValueDropdown = document.getElementById('property_value_dropdown');

            // ูู ุจุชุญุฏูุซ ุงูููู ุจูุงุกู ุนูู ุงูุฎุงุตูุฉ ุงููุญุฏุฏุฉ
            switch (selectedProperty) {
                case 'color':
                    populateDropdown(propertyValueDropdown, ['ุฃุญูุฑ', 'ุฃุฎุถุฑ', 'ุฃุณูุฏ']);
                    propertyValueInput.placeholder = 'ุฃู ุฃุถู ูููุฉ ุฌุฏูุฏุฉ';
                    break;
                case 'size':
                    populateDropdown(propertyValueDropdown, ['ุตุบูุฑ', 'ูุชูุณุท', 'ูุจูุฑ']);
                    propertyValueInput.placeholder = 'ุฃู ุฃุถู ูููุฉ ุฌุฏูุฏุฉ';
                    break;
                // ููููู ุฅุถุงูุฉ ุญุงูุงุช ุฅุถุงููุฉ ููุฎุตุงุฆุต ุงูุฃุฎุฑู
                default:
                    // ููููู ุชุญุฏูุฏ ุงูููู ุงูุงูุชุฑุงุถูุฉ ุฃู ุชุฑููุง ูุงุฑุบุฉ
                    populateDropdown(propertyValueDropdown, []);
                    propertyValueInput.placeholder = '';
            }
        }

        function populateDropdown(select, values) {
            // ูุณุญ ุงูุฎูุงุฑุงุช ุงูุญุงููุฉ
            select.innerHTML = '';

            // ุฅุถุงูุฉ ุฎูุงุฑุงุช ุฌุฏูุฏุฉ ูู ุงููุงุฆูุฉ
            values.forEach(value => {
                const option = document.createElement('option');
                option.value = value;
                option.text = value;
                select.add(option);
            });
        }
		     var imageCounter = 2; // ุจุฏุงูุฉ ุนุฏุงุฏ ุงูุตูุฑ ูู 2

    document.getElementById('addImage').addEventListener('click', function () {
        var container = document.getElementById('imageInputsContainer');
        var newInput = document.createElement('input');
        newInput.type = 'file';
        newInput.className = 'image-input';
        newInput.name = 'productImages[]';
        newInput.accept = 'image/*';
        newInput.required = true;
        container.appendChild(document.createElement('br'));
        container.appendChild(newInput);

        // ุฒูุงุฏุฉ ุนุฏุงุฏ ุงูุตูุฑ
        imageCounter++;
    });
		  function addProperty() {
            // ุงุญุตู ุนูู ุงูููุชุฌ ุงููุญุฏุฏุ ูุงุณู ุงูุฎุงุตูุฉุ ููููุฉ ุงูุฎุงุตูุฉ
            var productId = document.getElementById('productId').value;
            var propertyName = document.getElementById('propertyName').value;
            var propertyValue = document.getElementById('propertyValue').value;

            // ูู ุจุฅุฌุฑุงุก ุงูุชุญูู ูู ุงูุตุญุฉ ุฅุฐุง ูุงู ุฐูู ุถุฑูุฑููุง

            // ุฃูุดุฆ ูุงุฆููุง ูุชูุซูู ุงูุฎุงุตูุฉ
            var property = {
                productId: productId,
                propertyName: propertyName,
                propertyValue: propertyValue
            };

            // ููููู ุฅุฑุณุงู ูุฐู ุงูุจูุงูุงุช ุฅูู ุงูุฎุงุฏู ุจุงุณุชุฎุฏุงู AJAX ุฃู ุงูุชุนุงูู ูุนูุง ููุง ูู ูุทููุจ
            console.log(property);

            // ูู ุจุชูุฑูุบ ุญููู ุงููููุฐุฌ
            document.getElementById('propertyName').value = '';
            document.getElementById('propertyValue').value = '';
        }
		// Fetch products from the server/database
function fetchProducts() {
    // You need to implement this function to fetch products from the server
    // and call the function displayProducts to populate the itemList
}

// Display products in the itemList
// Display products in the itemList with edit forms
function displayProducts(products) {
    var itemList = document.getElementById('itemList');
    itemList.innerHTML = ''; // Clear existing items

    products.forEach(function(product) {
        var listItem = document.createElement('li');
        listItem.className = 'item';
        listItem.innerHTML = `
            <img src="${product.image}" alt="${product.description}">
            <span>${product.name}</span>
            <label for="itemQuantity">ุงููููุฉ:</label>
            <input type="number" id="itemQuantity" min="1" value="${product.quantity}">
            <label for="itemPrice">ุงูุณุนุฑ:</label>
            <input type="number" id="itemPrice" min="0" value="${product.price}">
            <button onclick="saveChangesByButton(this, '${product.id}')">ุญูุธ ุงูุชุนุฏููุงุช</button>
            <button onclick="editProduct('${product.id}')">ุชุนุฏูู</button>
        `;
        itemList.appendChild(listItem);
    });
}

// Function to dynamically generate an edit form for a specific product
function editProduct(productId) {
    // Fetch product details based on productId (similar to fetching products)
    var product = getProductDetails(productId);

    // Replace the listItem content with an edit form
    var listItem = document.querySelector(`.item[data-product-id="${productId}"]`);
    listItem.innerHTML = `
        <img src="${product.image}" alt="${product.description}">
        <span>${product.name}</span>
        <label for="itemQuantity">ุงููููุฉ:</label>
        <input type="number" id="itemQuantity" min="1" value="${product.quantity}">
        <label for="itemPrice">ุงูุณุนุฑ:</label>
        <input type="number" id="itemPrice" min="0" value="${product.price}">
        <button onclick="saveChangesByButton(this, '${product.id}')">ุญูุธ ุงูุชุนุฏููุงุช</button>
        <button onclick="cancelEdit('${product.id}')">ุฅูุบุงุก</button>
    `;
}

// Function to cancel the edit and revert to the display mode
function cancelEdit(productId) {
    // Fetch product details based on productId (similar to fetching products)
    var product = getProductDetails(productId);

    // Replace the edit form with the original display content
    var listItem = document.querySelector(`.item[data-product-id="${productId}"]`);
    listItem.innerHTML = `
        <img src="${product.image}" alt="${product.description}">
        <span>${product.name}</span>
        <label for="itemQuantity">ุงููููุฉ: ${product.quantity}</label>
        <label for="itemPrice">ุงูุณุนุฑ: ${product.price}</label>
        <button onclick="saveChangesByButton(this, '${product.id}')">ุญูุธ ุงูุชุนุฏููุงุช</button>
        <button onclick="editProduct('${product.id}')">ุชุนุฏูู</button>
    `;
}

// Function to fetch product details based on productId
function getProductDetails(productId) {
    // You need to implement this function to fetch product details from the server
    // based on the productId and return the product object
    // Example:
    // return { id: productId, name: "Product Name", quantity: 10, price: 50, image: "product.jpg" };
}


// Function to save changes for a specific product
function saveChangesByButton(button, productId) {
    var listItem = button.parentNode;
    var itemQuantity = listItem.querySelector('input#itemQuantity').value;
    var itemPrice = listItem.querySelector('input#itemPrice').value;

    // Implement code to send the updated data (itemQuantity, itemPrice) to the server
    // and update the corresponding product in the database

    alert('ุชู ุญูุธ ุงูุชุนุฏููุงุช ููููุชุฌ ุฐู ุงูุฑูู: ' + productId);
}

// Function to filter products based on the search input
function filterProducts() {
    var searchTerm = document.getElementById('productSearch').value.toLowerCase();
    var filteredProducts = allProducts.filter(function(product) {
        return product.name.toLowerCase().includes(searchTerm);
    });

    displayProducts(filteredProducts);
}

// Load products when the page is loaded
window.onload = function() {
    fetchProducts();
    document.getElementById('productSearch').addEventListener('input', filterProducts);
};

		function deleteSelectedItem() {
    var itemList = document.getElementById('itemList');
    var selectedItems = itemList.getElementsByClassName('selected');

    if (selectedItems.length > 0) {
        // ููููู ููุง ุฅุฑุณุงู ุทูุจ ุฅูู ุงูุฎุงุฏู ูุญุฐู ุงูุนูุงุตุฑ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
        for (var i = 0; i < selectedItems.length; i++) {
            var listItem = selectedItems[i];
            listItem.parentNode.removeChild(listItem);
        }

        // ุฅูุบุงุก ุชุญุฏูุฏ ุงูุนูุงุตุฑ ุจุนุฏ ุงูุญุฐู
        clearSelection();
    } else {
        alert('ูุฑุฌู ุชุญุฏูุฏ ุนูุตุฑ ูุญุฐูู.');
    }
}

function toggleSelection(item) {
    // ุชุจุฏูู ุญุงูุฉ ุงูุชุญุฏูุฏ ุนูุฏ ุงูููุฑ ุนูู ุงูุนูุตุฑ
    item.classList.toggle('selected');
}

function clearSelection() {
    // ุฅูุบุงุก ุชุญุฏูุฏ ุฌููุน ุงูุนูุงุตุฑ
    var itemList = document.getElementById('itemList');
    var items = itemList.getElementsByClassName('item');

    for (var i = 0; i < items.length; i++) {
        items[i].classList.remove('selected');
    }
}
        function logout() {
            // ุญุฐู ุจูุงูุงุช ุงูุฏุฎูู ูู Local Storage
            localStorage.removeItem('username');
            localStorage.removeItem('password');
            // ุฅุฎูุงุก ุฑุงุจุท ุชุณุฌูู ุงูุฎุฑูุฌ
            document.getElementById('logoutLink').style.display = 'none';
            alert('ุชู ุชุณุฌูู ุงูุฎุฑูุฌ ุจูุฌุงุญ!');
            // ุชูุฌูู ุงููุณุชุฎุฏู ุฅูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ุฃู ุฃู ุตูุญุฉ ุฃุฎุฑู
            window.location.href = "home.html";
        }
		
         function showSubcategories() {
        var categorySelect = document.getElementById("itemCategory");
        var subcategorySelect = document.getElementById("itemSubcategory");
        var addNewCategorySection = document.getElementById("addNewCategory");
        var addNewSubcategorySection = document.getElementById("addNewSubcategory");

        if (categorySelect.value === "newCategory") {
            addNewCategorySection.style.display = "block";
            addNewSubcategorySection.style.display = "none";
            document.getElementById("subcategories").style.display = "none";
        } else if (subcategorySelect.value === "newSubcategory") {
            addNewSubcategorySection.style.display = "block";
            addNewCategorySection.style.display = "none";
            document.getElementById("subcategories").style.display = "none";
        } else {
            addNewCategorySection.style.display = "none";
            addNewSubcategorySection.style.display = "none";
            document.getElementById("subcategories").style.display = "block";
        }
    }

        function showProductProperties() {
            var productPropertiesElement = document.getElementById("product-properties");

            // ูุณุญ ุงูุนูุตุฑ ูุชุฌูุจ ุชูุฑุงุฑ ุงูููู
            productPropertiesElement.innerHTML = "";

            var selectedProduct = document.getElementById("product-select").value;

            var productProperties = {
                product1: {
                    ุงูููู: ["ุฃุญูุฑ", "ุฃุฒุฑู", "ุฃุฎุถุฑ"],
                    ุงูุตูุญุงุช: ["100", "50", "6"],
                    ุงูููุน: ["ุบูุงู ุตูุจ", "ุบูุงู ูุฑูู", "ุฏูุชุฑ ุณูู"],
                    ุงูุญุฌู: ["ููุงุณ ูุจูุฑ", "ููุงุณ ูุณุท", "ููุงุณ ุตุบูุฑ"]
                },
                product2: {
                    ุงูููู: ["ุฃุณูุฏ", "ุฃุจูุถ", "ุฑูุงุฏู"],
                    ุงูุตูุญุงุช: ["200", "150", "120"],
                    ุงูููุน: ["ุบูุงู ูุฑูู", "ุบูุงู ุจูุงุณุชูู", "ุฏูุชุฑ ุนุงุฏู"],
                    ุงูุญุฌู: ["ููุงุณ ุตุบูุฑ", "ููุงุณ ุตุบูุฑ ุฌุฏุงู"]
                }
            };

            // ุฅูุดุงุก ูุนุฑุถ ุงูุฎุตุงุฆุต ุงูุฎุงุตุฉ ุจุงูููุชุฌ ุงููุฎุชุงุฑ
            if (productProperties[selectedProduct]) {
                for (var property in productProperties[selectedProduct]) {
                    var label = document.createElement("label");
                    label.textContent = property + ":";

                    var select = document.createElement("select");
                    select.id = property;

                    for (var option of productProperties[selectedProduct][property]) {
                        var optionElement = document.createElement("option");
                        optionElement.value = option;
                        optionElement.textContent = option;
                        select.appendChild(optionElement);
                    }

                    // ุฅุถุงูุฉ label ู select ุฅูู ุงูุนูุตุฑ ุงูุฎุงุต ุจุงูุฎุตุงุฆุต
                    productPropertiesElement.appendChild(label);
                    productPropertiesElement.appendChild(select);
                }

                // ุฅุธูุงุฑ ุนูุตุฑ ุงูุฎุตุงุฆุต ุจุนุฏ ููุก ุงูููู
                productPropertiesElement.style.display = "block";
            }
        }

        function addNewItem() {
            var itemName = document.getElementById('itemName').value;
            var itemImage = document.getElementById('itemImage').value;
            var itemQuantity = document.getElementById('itemQuantity').value;

            if (itemName && itemImage && itemQuantity > 0) {
                var itemList = document.getElementById('itemList');
                var newItem = document.createElement('li');
                newItem.className = 'item';
                newItem.innerHTML = `
                    <img src="${itemImage}" alt="${itemName}">
                    <span>${itemName}</span>
                    <span>ุงููููุฉ: ${itemQuantity}</span>
                    <button onclick="removeItem(this)">ุญุฐู</button>
                `;
                itemList.appendChild(newItem);

                // Clear input fields
                document.getElementById('itemName').value = '';
                document.getElementById('itemImage').value = '';
                document.getElementById('itemQuantity').value = 1;
            }
        }

        function updateItemQuantity() {
            var itemName = document.getElementById('itemName').value;
            var itemQuantity = document.getElementById('itemQuantity').value;

            if (itemName && itemQuantity > 0) {
                var itemList = document.getElementById('itemList');
                var existingItems = itemList.getElementsByClassName('item');

                for (var i = 0; i < existingItems.length; i++) {
                    var existingName = existingItems[i].getElementsByTagName('span')[0].textContent;

                    if (existingName === itemName) {
                        var quantitySpan = existingItems[i].getElementsByTagName('span')[1];
                        quantitySpan.textContent = `ุงููููุฉ: ${itemQuantity}`;
                        break;
                    }
                }

                // Clear input fields
                document.getElementById('itemName').value = '';
                document.getElementById('itemQuantity').value = 1;
            }
        }

        function removeItem(button) {
            var listItem = button.parentNode;
            listItem.parentNode.removeChild(listItem);
        }

        function viewAllItems() {
            var itemList = document.getElementById('itemList');
            var items = itemList.getElementsByClassName('item');

            if (items.length > 0) {
                console.log("All Items:");
                for (var i = 0; i < items.length; i++) {
                    var itemName = items[i].getElementsByTagName('span')[0].textContent;
                    var itemImage = items[i].getElementsByTagName('img')[0].getAttribute('src');
                    console.log(`${itemName} - ${itemImage}`);
                }
            } else {
                console.log("No items to display.");
            }
        }
		function showSection(sectionId) {
    // ุฅุฎูุงุก ุฌููุน ุงูุฃูุณุงู
    var sections = document.querySelectorAll('.section');
    sections.forEach(function(section) {
        section.classList.remove('active-section');
    });

    // ุฅุธูุงุฑ ุงููุณู ุงููุญุฏุฏ
    var selectedSection = document.getElementById(sectionId);
    selectedSection.classList.add('active-section');

    // ุฅุธูุงุฑ ุฒุฑ ุงูุญูุธ ุจุดูู ุชููุงุฆู ูู ุงููุณู ุงููุญุฏุฏ
    var saveIcon = selectedSection.querySelector('.save-icon');
    if (saveIcon) {
        saveIcon.style.display = 'inline';
    }

    // ุฅุฎูุงุก ุฒุฑู ุงูุชุนุฏูู ูุงูุญุฐู ูู ุงููุณููู section2 ู section3
    if (sectionId === 'section2' || sectionId === 'section3') {
        var editIcon = selectedSection.querySelector('.edit-icon');
        var deleteIcon = selectedSection.querySelector('.delete-icon');
        
        if (editIcon) {
            editIcon.style.display = 'none';
        }
        if (deleteIcon) {
            deleteIcon.style.display = 'none';
        }
    }
}


   function editSection(sectionId) {
    // ุชูููู ุญููู ุงูุชุญุฑูุฑ
    var section = document.getElementById(sectionId);
    var inputs = section.querySelectorAll('input, select'); // ุฃุถู ุงูู select ููุง ูุชุดูู ุญููู ุงูุชุญุฑูุฑ
    inputs.forEach(function(input) {
        input.removeAttribute('disabled');
    });

    // ุฅุธูุงุฑ ุฒุฑ ุงูุญูุธ
    var saveIcon = section.querySelector('.save-icon');
    saveIcon.style.display = 'inline';
}


    function deleteSection(sectionId) {
        // ููููู ุฅุถุงูุฉ ุฑูุฒ ูููู ุจุญุฐู ุงููุณู ุฃู ุชูููุฐ ุงูุฅุฌุฑุงุก ุงูุฎุงุต ุจู ููุง
        alert('ุชู ุงูุญุฐู ');
    }
function saveChangesByButton(button) {
	var listItem = button.parentNode;
    var itemName = listItem.querySelector('span').textContent;
    var itemQuantity = listItem.querySelector('input#itemQuantity').value;
    var itemPrice = listItem.querySelector('input#itemPrice').value;

    // ููุง ููููู ุฅุฌุฑุงุก ุงูุฅุฌุฑุงุกุงุช ุงููุงุฒูุฉ ูุญูุธ ุงูุชุนุฏููุงุช ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฃู ููุงู ุขุฎุฑ
    alert('ุชู ุญูุธ ุงูุชุนุฏููุงุช ูู' + itemName + ': ุงููููุฉ=' + itemQuantity + 'ุ ุงูุณุนุฑ=' + itemPrice);
}
function saveChanges(sectionId) {
    // ูู ุจุชุญุฏูุฏ ุงูุฃูุณุงู ุงูุชู ุชุฑูุฏ ุชุทุจูู ุงูุณููู ุนูููุง
    var sectionsToCheck = ['section2', 'section3'];

    // ูุญุต ูุง ุฅุฐุง ูุงูุช ุงููุณู ุงูุญุงูู ููุชูู ุฅูู ุงูุฃูุณุงู ุงููุญุฏุฏุฉ
    if (sectionsToCheck.includes(sectionId)) {
        // ูู ุจุงูุชุญูู ูู ุชุนุจุฆุฉ ุงูููู
        var section = document.getElementById(sectionId);
        var itemName = section.querySelector('#itemName').value;
        var itemDescription = section.querySelector('#itemDescription').value;
        var itemParent = section.querySelector('#itemParent').value;
        var productImage = section.querySelector('.image-input').value;

        // ูุญุต ูุง ุฅุฐุง ูุงูุช ุงูููู ูุงุฑุบุฉ
        if (itemName === '' || itemDescription === '' || itemParent === '' || productImage === '') {
            alert('ูุฑุฌู ุชุนุจุฆุฉ ุฌููุน ุงูุญููู ูุจู ุงูุญูุธ');
            return; // ุชููู ุนู ุชูููุฐ ุงููุธููุฉ ุฅุฐุง ูู ุชูู ุงูููู ูุนุจุฃุฉ ุจุงููุงูู
        }
    }

    // ุชูููุฐ ุงูุณููู ุงููุทููุจ ุจูุงุกู ุนูู ุงูุฃูุณุงู ุงููุญุฏุฏุฉ
    var section = document.getElementById(sectionId);
    var inputs = section.querySelectorAll('input');
    inputs.forEach(function(input) {
        input.setAttribute('disabled', 'true');
    });

    var saveIcon = section.querySelector('.save-icon');
    saveIcon.style.display = 'none';

    // ุญูุธ ุงูุชุบููุฑุงุช ููุง (ููููู ุฅุฑุณุงููุง ุฅูู ุงูุฎุงุฏู ุฃู ุชูููุฐ ุงูุฅุฌุฑุงุก ุงูุฎุงุต ุจู)
    alert('ุชู ุญูุธ ุงูุชุบููุฑุงุช ');

    // ุฅุธูุงุฑ ุฃููููุฉ ุงูุฅุถุงูุฉ ุจุนุฏ ุงูุญูุธ
    var addCategoryIcon = section.querySelector('.add-category-icon');
    addCategoryIcon.style.display = 'inline';
}

window.onload = function() {
    // ูู ุจุฅุธูุงุฑ ุงููุณู ุงูุฃูู ุงูุฐู ูุญุชูู ุนูู ุงูุตูุฑุฉ
    showSection('section1');
};

function toggleAddCategoryFields() {
    var section = document.getElementById('section2');
    var inputs = section.querySelectorAll('input');
    var select = section.querySelector('select');
    var saveIcon = section.querySelector('.save-icon');
    var addCategoryIcon = section.querySelector('.add-category-icon');
    
    // ุชุจุฏูู ุญุงูุฉ ุญููู ุงูุฅุฏุฎุงู ูุฒุฑ ุงูุญูุธ ูุฃููููุฉ ุงูุฅุถุงูุฉ
    if (saveIcon.style.display === 'none') {
        // ุฅุธูุงุฑ ุญููู ุงูุฅุฏุฎุงู ูุฒุฑ ุงูุญูุธ ูุฃููููุฉ ุงูุฅุถุงูุฉ
        inputs.forEach(function(input) {
            input.removeAttribute('disabled');
        });
        select.removeAttribute('disabled');
        saveIcon.style.display = 'inline';
        addCategoryIcon.style.display = 'none';
        // ุชูุฑูุบ ููู ุญููู ุงูุฅุฏุฎุงู
        inputs.forEach(function(input) {
            input.value = '';
        });
    } else {
        // ุฅุฎูุงุก ุญููู ุงูุฅุฏุฎุงู ูุฒุฑ ุงูุญูุธ ูุฅุธูุงุฑ ุฃููููุฉ ุงูุฅุถุงูุฉ
        inputs.forEach(function(input) {
            input.setAttribute('disabled', 'true');
        });
        select.setAttribute('disabled', 'true');
        saveIcon.style.display = 'none';
        addCategoryIcon.style.display = saveIcon.style.display !== 'none' ? 'inline' : 'none'; // ุชุจุฏูู ุนุฑุถ ุฃููููุฉ ุงูุฅุถุงูุฉ
    }
}
function handleSubmit() {
    var mainCategory = document.getElementById("mainCategory").value;
    var subCategory = document.getElementById("subCategory").value;
    var productId = document.getElementById("productId").value;
    var itemQuantity = document.getElementById("itemQuantity").value;
    var itemPrice = document.getElementById("itemPrice").value;
    var propertyName = document.getElementById("propertyName").value;
    var propertyValue = document.getElementById("propertyValue").value;

    // ุงูุชุญูู ูู ููุก ุงูุญููู
    if (mainCategory === "" || subCategory === "" || productId === "" || itemQuantity === "" || itemPrice === "" ||
        propertyName === "" || propertyValue === "") {
        alert("ูุฑุฌู ููุก ุฌููุน ุงูุญููู");
        return false;
    } else {
        // ุนุฑุถ ูุงุฌูุฉ ุงูููุจุซูุฉ ููุชุฃููุฏ
        var confirmation = confirm("ูู ุชุฑูุฏ ุญูุธ ูุฐู ุงููุนูููุงุชุ");
        if (confirmation) {
            // ุฅุธูุงุฑ ุฑุณุงูุฉ ุชู ุงูุญูุธ ุจูุฌุงุญ
            alert("ุชู ุงูุญูุธ ุจูุฌุงุญ!");
            // ุชูุฑูุบ ุงูุญููู
            document.getElementById("mainCategory").value = "";
            document.getElementById("subCategory").value = "";
            document.getElementById("productId").value = "";
            document.getElementById("itemQuantity").value = "";
            document.getElementById("itemPrice").value = "";
            document.getElementById("existing_property").value = "";
            document.getElementById("property_value_dropdown").value= "";
            document.getElementById("propertyName").value = "";
            document.getElementById("propertyValue").value = "";
            // ุชูุฑูุบ ุญููู ุงูุตูุฑ
            var imageInputs = document.querySelectorAll('.image-input');
            for (var i = 0; i < imageInputs.length; i++) {
                imageInputs[i].value = "";
            }
            return true;
        } else {
            // ุฅูุบุงุก ุงูุญูุธ
            return false;
        }
    }
}



    </script>
</body>

</html>
